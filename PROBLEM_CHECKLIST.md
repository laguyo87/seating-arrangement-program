# 교실 자리 배치 프로그램 - 문제점 점검 리스트

생성일: 2025-01-27

## 🔴 심각한 문제 (High Priority)

### 1. 코드 품질
- [ ] **console.log 남용**: 프로덕션 코드에 96개의 console.log가 남아있음
  - 위치: `src/controllers/MainController.ts` (96개), `src/modules/InputModule.ts` (1개), `src/main.ts` (5개)
  - 영향: 프로덕션 성능 저하, 보안 정보 노출 가능성
  - 권장: 개발용 로깅 라이브러리 사용 또는 빌드 시 제거

### 2. 메모리 누수 가능성
- [ ] **이벤트 리스너 정리 부족**: `document.addEventListener`로 등록된 이벤트 리스너가 제거되지 않음
  - 위치: `initializeEventListeners()` 메서드
  - 영향: 페이지를 여러 번 사용할 때 메모리 누수 발생 가능
  - 권장: 이벤트 리스너 제거 로직 추가 또는 이벤트 위임 패턴 개선

- [ ] **setTimeout 중첩**: 32개의 setTimeout이 중첩되어 사용됨
  - 위치: `src/controllers/MainController.ts`
  - 영향: 타이머가 정리되지 않아 메모리 누수 가능성
  - 권장: clearTimeout으로 타이머 정리 또는 Promise/async-await 사용

### 3. 입력 검증 부족
- [ ] **음수 입력 처리**: HTML min="0" 속성만 있고, JavaScript 검증 부족
  - 위치: `index.html` (남학생/여학생 수 입력)
  - 영향: 음수 입력 시 예상치 못한 동작 가능
  - 권장: JavaScript에서 음수 입력 시 0으로 자동 조정

- [ ] **0명 입력 처리**: 남학생 0명, 여학생 0명인 경우 처리 로직 불명확
  - 위치: `handleArrangeSeats()` 등
  - 영향: 빈 배열 처리 시 오류 발생 가능
  - 권장: 0명 입력 시 명확한 안내 메시지 표시

- [ ] **매우 큰 숫자 입력**: 최대값 제한이 없음 (HTML max 속성 없음)
  - 위치: `index.html` (남학생/여학생 수 입력)
  - 영향: 1000명 이상 입력 시 성능 문제 발생 가능
  - 권장: max 속성 추가 (예: max="100")

- [ ] **빈 이름 처리**: 일부 함수에서 빈 이름 체크가 없음
  - 위치: `handleSaveStudentTable()` 등
  - 영향: 빈 이름으로 저장 가능
  - 권장: 모든 입력 지점에서 빈 이름 검증 추가

## 🟡 중간 우선순위 문제 (Medium Priority)

### 4. 에러 처리
- [ ] **localStorage 실패 처리**: try-catch로 감싸져 있지만 사용자에게 명확한 피드백 없음
  - 위치: `saveLayoutResult()`, `saveOptions()` 등
  - 영향: localStorage가 비활성화된 경우 사용자가 원인을 알 수 없음
  - 권장: 사용자에게 명확한 에러 메시지 표시

- [ ] **네트워크 에러 처리**: 공유 URL 로드 실패 시 처리 부족
  - 위치: `loadSharedLayout()`, `enableViewerMode()`
  - 영향: 잘못된 URL이나 네트워크 오류 시 사용자 경험 저하
  - 권장: 더 친화적인 에러 메시지 및 복구 옵션 제공

### 5. 데이터 무결성
- [ ] **localStorage 데이터 손상**: 손상된 데이터 로드 시 처리 부족
  - 위치: `loadSavedLayoutResult()`
  - 영향: JSON 파싱 실패 시 앱이 중단될 수 있음
  - 권장: try-catch로 감싸고 기본값으로 복구

- [ ] **CSV 파일 검증**: 잘못된 형식의 CSV 파일 업로드 시 처리 부족
  - 위치: CSV 파일 업로드 기능
  - 영향: 잘못된 데이터로 인한 오류 발생 가능
  - 권장: CSV 파일 형식 검증 강화

### 6. 성능 문제
- [ ] **대용량 데이터 처리**: 100명 이상 학생 처리 시 성능 저하 가능
  - 위치: `renderExampleCards()`, `handleArrangeSeats()` 등
  - 영향: 많은 DOM 조작으로 인한 렌더링 지연
  - 권장: 가상 스크롤 또는 지연 렌더링 구현

- [ ] **로딩 상태 표시 없음**: 대용량 데이터 처리 시 로딩 인디케이터 없음
  - 위치: 자리 배치, 파일 업로드 등
  - 영향: 사용자가 진행 상황을 알 수 없음
  - 권장: 로딩 스피너 또는 진행률 표시 추가

### 7. 접근성 (A11y)
- [ ] **키보드 네비게이션**: 모든 기능이 키보드만으로 사용 가능한지 불명확
  - 위치: 전체 UI
  - 영향: 키보드 사용자나 스크린 리더 사용자 접근성 저하
  - 권장: Tab 순서 확인 및 키보드 이벤트 핸들러 추가

- [ ] **ARIA 레이블 부족**: 버튼과 입력 필드에 ARIA 레이블이 부족
  - 위치: `index.html`
  - 영향: 스크린 리더 사용자 접근성 저하
  - 권장: aria-label, aria-describedby 추가

- [ ] **색상 대비**: 일부 텍스트의 색상 대비가 WCAG 기준 미달 가능성
  - 위치: `style.css`
  - 영향: 시각 장애인 접근성 저하
  - 권장: 색상 대비 비율 확인 및 조정

### 8. 사용성 (UX)
- [ ] **드래그 앤 드롭 피드백**: 드래그 중 시각적 피드백 부족
  - 위치: 좌석 카드 드래그 기능
  - 영향: 사용자가 드래그 상태를 명확히 알기 어려움
  - 권장: 드래그 중 시각적 표시 개선 (투명도, 그림자 등)

- [ ] **긴 학생 이름 처리**: 매우 긴 이름이 카드에서 잘릴 수 있음
  - 위치: 좌석 카드 렌더링
  - 영향: 이름이 잘려서 보이지 않음
  - 권장: 텍스트 오버플로우 처리 (말줄임표, 툴팁 등)

- [ ] **모바일 화면 최적화**: 일부 기능이 모바일에서 사용하기 어려울 수 있음
  - 위치: 드래그 앤 드롭, 테이블 입력 등
  - 영향: 모바일 사용자 경험 저하
  - 권장: 모바일 터치 이벤트 최적화

## 🟢 낮은 우선순위 문제 (Low Priority)

### 9. 코드 구조
- [ ] **TypeScript strict 모드 설정**: 일부 strict 옵션이 비활성화됨
  - 위치: `tsconfig.json` (noUnusedLocals, noUnusedParameters 등 false)
  - 영향: 타입 안전성 저하
  - 권장: 점진적으로 strict 옵션 활성화

- [ ] **함수 길이**: 일부 함수가 너무 길어서 가독성 저하
  - 위치: `MainController.ts` (7000+ 라인)
  - 영향: 유지보수 어려움
  - 권장: 함수 분리 및 모듈화

### 10. 브라우저 호환성
- [ ] **ES2020 타겟**: 구형 브라우저 지원 불가
  - 위치: `tsconfig.json` (target: "ES2020")
  - 영향: IE11 등 구형 브라우저에서 동작하지 않음
  - 권장: 필요 시 폴리필 추가 또는 타겟 버전 조정

- [ ] **Clipboard API**: 클립보드 복사 기능이 일부 브라우저에서 동작하지 않을 수 있음
  - 위치: 공유 기능
  - 영향: 구형 브라우저에서 복사 실패 가능
  - 권장: 폴백 메서드 제공 (document.execCommand)

### 11. 보안
- [ ] **XSS 취약점**: 사용자 입력을 innerHTML로 직접 삽입하는 부분 확인 필요
  - 위치: 동적 HTML 생성 부분
  - 영향: 악의적인 스크립트 삽입 가능
  - 권장: textContent 사용 또는 HTML 이스케이프 처리

- [ ] **공유 URL 검증**: 공유 URL의 데이터 검증이 부족할 수 있음
  - 위치: `loadSharedLayout()`, `enableViewerMode()`
  - 영향: 악의적인 데이터로 인한 오류 발생 가능
  - 권장: 데이터 검증 강화

### 12. 기능 완성도
- [ ] **모둠 배치 기능**: 아직 준비중 상태
  - 위치: README.md에 "준비중" 표시
  - 영향: 기능 미완성
  - 권장: 기능 완성 또는 UI에서 제거

- [ ] **ㄷ자 2명 짝꿍 배치**: 아직 준비중 상태
  - 위치: README.md에 "준비중" 표시
  - 영향: 기능 미완성
  - 권장: 기능 완성 또는 UI에서 제거

### 13. 테스트
- [ ] **자동화된 테스트 부재**: 단위 테스트, 통합 테스트 없음
  - 위치: 전체 프로젝트
  - 영향: 리팩토링 시 회귀 버그 발생 가능
  - 권장: Jest 또는 Vitest로 테스트 추가

- [ ] **엣지 케이스 테스트**: 많은 엣지 케이스가 테스트되지 않음
  - 위치: TEST_CHECKLIST.md에 체크리스트만 있음
  - 영향: 예상치 못한 버그 발생 가능
  - 권장: 엣지 케이스 테스트 자동화

## 📊 통계 요약

- **총 문제점**: 30개 이상
- **심각한 문제**: 7개
- **중간 우선순위**: 12개
- **낮은 우선순위**: 11개

## 🎯 권장 개선 순서

1. **1단계 (즉시 수정)**: console.log 제거, 입력 검증 강화, localStorage 에러 처리
2. **2단계 (단기)**: 메모리 누수 수정, 접근성 개선, 로딩 상태 표시
3. **3단계 (중기)**: 성능 최적화, 테스트 추가, 코드 리팩토링
4. **4단계 (장기)**: 기능 완성, 보안 강화, 브라우저 호환성 개선

## 📝 참고사항

- 이 리스트는 코드베이스 정적 분석을 기반으로 작성되었습니다.
- 실제 사용자 테스트를 통해 추가 문제점을 발견할 수 있습니다.
- 우선순위는 프로젝트의 목적과 사용자 요구사항에 따라 조정될 수 있습니다.

