# 고정 좌석 지정 후 랜덤 배치 기능 제안

## 📋 기능 개요

'4단계: 맞춤 구성'에서 '고정 좌석 지정 후 랜덤 배치' 옵션을 선택하면:
1. 사용자가 미리보기 화면에서 특정 좌석(카드)을 클릭하여 고정 좌석으로 지정
2. '자리 배치하기' 버튼 클릭 시 고정 좌석은 제외하고 나머지 좌석만 랜덤 배치

---

## 🎯 제안 1: 고정 좌석 표시 방법

### 방법 A: 체크박스 방식 (추천 ⭐)

#### **학생 정보 입력 테이블에 "고정 좌석" 컬럼 추가**

```
| 이름 | 성별 | 고정 좌석 |
|------|------|-----------|
| 김철수 | 남 | ☐ |
| 이영희 | 여 | ☑ |
| 박민수 | 남 | ☐ |
```

**장점**:
- 간단하고 직관적
- 여러 학생을 쉽게 고정 지정 가능
- 테이블 내에서 한눈에 확인 가능

**구현 방식**:
```html
<th>고정 좌석</th>
<td>
    <input type="checkbox" class="fixed-seat-checkbox" data-student-id="1">
</td>
```

### 방법 B: 별도 입력 필드 방식

#### **테이블에 "고정 좌석 번호" 컬럼 추가**

```
| 이름 | 성별 | 고정 좌석 번호 |
|------|------|----------------|
| 김철수 | 남 | (비워둠) |
| 이영희 | 여 | 5 |
| 박민수 | 남 | (비워둠) |
```

**장점**:
- 특정 좌석 위치를 명시적으로 지정 가능
- 좌석 번호로 정확한 위치 지정

**단점**:
- 사용자가 좌석 번호를 기억해야 함
- 좌석 번호 입력이 번거로울 수 있음

### 방법 C: 미리보기 화면에서 직접 클릭 (추천 ⭐⭐)

#### **미리보기 좌석 카드 클릭으로 고정/해제**

1. '4단계: 맞춤 구성'에서 '고정 좌석 지정 후 랜덤 배치' 선택
2. 우측 미리보기 화면의 좌석 카드를 클릭
3. 클릭된 카드가 **빨간색 테두리**로 표시됨 (고정 좌석 표시)
4. 다시 클릭하면 고정 해제

**장점**:
- 시각적으로 가장 직관적
- 좌석 위치를 바로 확인하며 지정 가능
- 사용자 경험이 최고

**구현 방식**:
- 좌석 카드에 `data-seat-id` 속성 추가
- '고정 좌석 지정 후 랜덤 배치' 모드 활성화 시 클릭 이벤트 추가
- 클릭된 카드에 `.fixed-seat` 클래스 추가 (빨간색 테두리)
- 클릭 시 해당 좌석 ID를 고정 좌석 목록에 추가/제거

### 방법 D: 하이브리드 방식 (최종 추천 ⭐⭐⭐)

#### **미리보기 화면 클릭 + 테이블 체크박스 병행**

**1단계: 미리보기에서 고정 좌석 지정**
- 미리보기 좌석 카드 클릭 → 빨간색 테두리 표시

**2단계: 테이블에서 고정 좌석에 학생 연결**
- 고정된 좌석에 배치할 학생을 테이블의 "고정 좌석" 체크박스로 선택
- 체크박스를 체크하면 드롭다운 메뉴 표시: "좌석 1", "좌석 2", ... (고정된 좌석만 표시)

**장점**:
- 시각적 지정 + 명확한 학생-좌석 연결
- 가장 유연하고 강력한 방식

---

## 👥 여러 명의 고정 좌석 처리 방법

### 제안 1: 순서대로 자동 배치

1. 사용자가 고정 좌석을 여러 개 지정 (예: 좌석 5, 좌석 8, 좌석 12)
2. 테이블에서 고정 좌석에 배치할 학생들을 체크박스로 선택
3. 체크된 학생들을 **순서대로** 고정 좌석에 배치
   - 첫 번째 체크된 학생 → 첫 번째 고정 좌석
   - 두 번째 체크된 학생 → 두 번째 고정 좌석
   - ...

**예시**:
```
고정 좌석: [좌석 5], [좌석 8], [좌석 12]

체크된 학생:
☑ 이영희 (1번째)
☑ 박민수 (2번째)
☑ 최지영 (3번째)

결과:
- 좌석 5 → 이영희
- 좌석 8 → 박민수
- 좌석 12 → 최지영
```

### 제안 2: 드롭다운으로 개별 지정 (추천 ⭐⭐)

1. 고정 좌석 지정 후 테이블의 각 학생 행에 "고정 좌석" 드롭다운 메뉴 추가
2. 드롭다운에서 "없음" 또는 고정된 좌석 번호 선택
3. 각 학생을 개별적으로 특정 좌석에 배치

**예시**:
```
| 이름 | 성별 | 고정 좌석 |
|------|------|-----------|
| 김철수 | 남 | [없음 ▼] |
| 이영희 | 여 | [좌석 5 ▼] |
| 박민수 | 남 | [좌석 8 ▼] |
| 최지영 | 여 | [없음 ▼] |
```

**장점**:
- 각 학생을 원하는 좌석에 정확히 배치
- 순서에 관계없이 자유롭게 지정

### 제안 3: 고정 좌석 그룹화

**고정 좌석이 여러 명일 경우 그룹으로 묶어서 관리**

1. 같은 그룹에 속한 고정 좌석들 (예: 앞줄 5개 좌석)
2. 테이블에서 "고정 그룹 1" 체크박스 선택 → 해당 그룹의 좌석들에 순서대로 배치

**예시**:
```
고정 그룹 1: [좌석 1, 좌석 2, 좌석 3, 좌석 4, 좌석 5]

체크된 학생:
☑ 이영희
☑ 박민수
☑ 최지영
☑ 김철수
☑ 한소희

결과: 그룹 1의 5개 좌석에 체크된 5명이 순서대로 배치
```

---

## 🎨 UI/UX 디자인ಗಳ

### 고정 좌석 시각적 표시

1. **미리보기 카드**:
   - 고정된 좌석: 빨간색 테두리 + "🔒" 아이콘
   - 일반 좌석: 기본 스타일

2. **테이블 체크박스**:
   - 체크된 학생 행: 연한 노란색 배경
   - 고정 좌석 지정된 학생: 연한 빨간색 배경

3. **알림 메시지**:
   ```
   "3개의 고정 좌석이 지정되었습니다."
   "고정 좌석 2개에 학생 2명이 배치되었습니다."
   ```

---

## 🔧 구현 단계

### 1단계: 고정 좌석 지정 기능
- [ ] '고정 좌석 지정 후 랜덤 배치' 모드 활성화 시 좌석 카드 클릭 이벤트 추가
- [ ] 클릭된 좌석을 고정 좌석 목록에 추가/제거
- [ ] 고정 좌석 시각적 표시 (빨간색 테두리)

### 2단계: 학생 정보 테이블 수정
- [ ] 테이블에 "고정 좌석" 컬럼 추가
- [ ] 고정 좌석 드롭다운 또는 체크박스 추가
- [ ] 학생 데이터 모델에 `fixedSeatId` 연결

### 3단계: 자리 배치하기 로직 수정
- [ ] 고정 좌석에 지정된 학생 먼저 배치
- [ ] 고정 좌석 제외한 나머지 좌석에 랜덤 배치
- [ ] 고정 좌석에 학생이 지정되지 않은 경우 경고 표시

---

## 📝 최종 추천안

### **추천: 하이브리드 방식 + 드롭다운 개별 지정**

1. **미리보기에서 고정 좌석 지정** (시각적)
   - 좌석 카드 클릭 → 빨간색 테두리 + 🔒 아이콘

2. **테이블에서 학생-좌석 연결** (명확한 지정)
   - 각 학생 행에 "고정 좌석" 드롭다운
   - "없음" 또는 고정된 좌석 번호 선택

3. **자리 배치하기 실행**
   - 고정 좌석에 지정된 학생 먼저 배치
   - 나머지 좌석에 랜덤 배치

이 방식이 **가장 직관적이고 유연하며 오류 발생 가능성이 낮습니다!** ✨
