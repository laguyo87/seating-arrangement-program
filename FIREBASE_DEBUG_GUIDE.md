# Firebase ì‹¤ì‹œê°„ ì €ì¥ í™•ì¸ ê°€ì´ë“œ

## ğŸ” ì €ì¥ ìƒíƒœ í™•ì¸ ë°©ë²•

### 1. ë¸Œë¼ìš°ì € ì½˜ì†”ì—ì„œ í™•ì¸

ê°œë°œì ë„êµ¬(F12)ë¥¼ ì—´ê³  Console íƒ­ì—ì„œ ë‹¤ìŒ ë¡œê·¸ë¥¼ í™•ì¸í•˜ì„¸ìš”:

#### ì €ì¥ ì„±ê³µ ì‹œ:
```
âœ… Firebaseì— ë°˜ ëª©ë¡ ì €ì¥ ì™„ë£Œ: { userId: "...", classCount: 3 }
âœ… Firebaseì— ìë¦¬ ë°°ì¹˜ë„ ì €ì¥ ì™„ë£Œ: { userId: "...", classId: "...", className: "..." }
```

#### ì €ì¥ ì‹¤íŒ¨ ì‹œ:
```
âŒ ë°˜ ëª©ë¡ ì €ì¥ ì‹¤íŒ¨: [ì—ëŸ¬ ì •ë³´]
âŒ ìë¦¬ ë°°ì¹˜ë„ ì €ì¥ ì‹¤íŒ¨: [ì—ëŸ¬ ì •ë³´]
```

### 2. Firebase Consoleì—ì„œ í™•ì¸

1. **Firebase Console ì ‘ì†**
   - https://console.firebase.google.com/
   - í”„ë¡œì íŠ¸: `seating-arrangement-back-7ffa1`

2. **Firestore Database í™•ì¸**
   - ì™¼ìª½ ë©”ë‰´ì—ì„œ "Firestore Database" í´ë¦­
   - ë°ì´í„° íƒ­ì—ì„œ ë‹¤ìŒ ê²½ë¡œ í™•ì¸:
     ```
     users/
       â””â”€â”€ {userId}/
           â”œâ”€â”€ classList: [...]
           â”œâ”€â”€ lastUpdated: timestamp
           â””â”€â”€ classes/
               â””â”€â”€ {classId}/
                   â”œâ”€â”€ seats: [...]
                   â”œâ”€â”€ students: [...]
                   â”œâ”€â”€ className: "..."
                   â”œâ”€â”€ timestamp: "..."
                   â””â”€â”€ lastUpdated: timestamp
     ```

3. **ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ í™•ì¸**
   - Firestore Consoleì—ì„œ ë¬¸ì„œë¥¼ ì—´ì–´ë‘ë©´ ì‹¤ì‹œê°„ìœ¼ë¡œ ë³€ê²½ì‚¬í•­ì´ ë°˜ì˜ë©ë‹ˆë‹¤
   - `lastUpdated` í•„ë“œê°€ ì—…ë°ì´íŠ¸ë˜ëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”

### 3. ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ í™•ì¸

#### ì €ì¥ ì‹œ UI ë©”ì‹œì§€:
- âœ… ì„±ê³µ: "Firebaseì— ë°˜ ëª©ë¡ Xê°œ ì €ì¥ ì™„ë£Œ"
- âœ… ì„±ê³µ: "Firebaseì— 'ë°˜ ì´ë¦„' ìë¦¬ ë°°ì¹˜ë„ ì €ì¥ ì™„ë£Œ"
- âŒ ì‹¤íŒ¨: "ë°˜ ëª©ë¡ ì €ì¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤."
- âŒ ì‹¤íŒ¨: "ìë¦¬ ë°°ì¹˜ë„ ì €ì¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤."

#### ì €ì¥ ë™ì‘ í™•ì¸:
1. ë¡œê·¸ì¸ ìƒíƒœ í™•ì¸ (ìƒë‹¨ ë°”ì— ì´ë©”ì¼ í‘œì‹œ)
2. ë°˜ ì„ íƒ í›„ ìë¦¬ ë°°ì¹˜í•˜ê¸°
3. "ğŸ’¾ ì €ì¥í•˜ê¸°" ë²„íŠ¼ í´ë¦­
4. ì„±ê³µ ë©”ì‹œì§€ í™•ì¸

### 4. ì‹¤ì‹œê°„ ë¦¬ìŠ¤ë„ˆ í…ŒìŠ¤íŠ¸

ì½”ë“œì— ì‹¤ì‹œê°„ ë¦¬ìŠ¤ë„ˆ ê¸°ëŠ¥ì´ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤. ë‹¤ìŒ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```typescript
// ì‹¤ì‹œê°„ ë¦¬ìŠ¤ë„ˆ ì„¤ì •
firebaseStorageManager.setupRealtimeListener(
  (classList) => {
    console.log('ğŸ”„ ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸:', classList);
  },
  (error) => {
    console.error('âŒ ë¦¬ìŠ¤ë„ˆ ì˜¤ë¥˜:', error);
  }
);
```

## ğŸ› ë¬¸ì œ í•´ê²°

### ì €ì¥ì´ ì•ˆ ë˜ëŠ” ê²½ìš°:

1. **ë¡œê·¸ì¸ ìƒíƒœ í™•ì¸**
   - ìƒë‹¨ ë°”ì— ì´ë©”ì¼ì´ í‘œì‹œë˜ëŠ”ì§€ í™•ì¸
   - ë¡œê·¸ì¸ë˜ì§€ ì•Šì€ ê²½ìš° ì €ì¥ì€ localStorageì—ë§Œ ë©ë‹ˆë‹¤

2. **Firebase ì„¤ì • í™•ì¸**
   - `src/config/firebase.config.ts` íŒŒì¼ í™•ì¸
   - Firebase Consoleì—ì„œ í”„ë¡œì íŠ¸ IDê°€ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸

3. **Firestore ê·œì¹™ í™•ì¸**
   - Firebase Console â†’ Firestore Database â†’ ê·œì¹™ íƒ­
   - ë‹¤ìŒ ê·œì¹™ì´ í•„ìš”í•©ë‹ˆë‹¤:
     ```javascript
     rules_version = '2';
     service cloud.firestore {
       match /databases/{database}/documents {
         match /users/{userId} {
           allow read, write: if request.auth != null && request.auth.uid == userId;
           match /classes/{classId} {
             allow read, write: if request.auth != null && request.auth.uid == userId;
           }
         }
       }
     }
     ```

4. **ë„¤íŠ¸ì›Œí¬ í™•ì¸**
   - ì¸í„°ë„· ì—°ê²° í™•ì¸
   - ë°©í™”ë²½ì´ë‚˜ í”„ë¡ì‹œ ì„¤ì • í™•ì¸

### ë¡œê·¸ í™•ì¸:

ë¸Œë¼ìš°ì € ì½˜ì†”ì—ì„œ ë‹¤ìŒ í‚¤ì›Œë“œë¡œ ê²€ìƒ‰:
- `Firebaseì—`
- `âœ…`
- `âŒ`
- `ì €ì¥`

## ğŸ“Š ë°ì´í„° êµ¬ì¡°

### ë°˜ ëª©ë¡ (users/{userId})
```json
{
  "classList": [
    {
      "id": "class-123",
      "name": "1í•™ë…„ 1ë°˜",
      "createdAt": "2024-01-01T00:00:00.000Z",
      "lastModified": "2024-01-01T00:00:00.000Z"
    }
  ],
  "lastUpdated": "2024-01-01T00:00:00.000Z"
}
```

### ìë¦¬ ë°°ì¹˜ë„ (users/{userId}/classes/{classId})
```json
{
  "seats": [...],
  "students": [...],
  "className": "1í•™ë…„ 1ë°˜",
  "timestamp": "2024-01-01T00:00:00.000Z",
  "lastUpdated": "2024-01-01T00:00:00.000Z"
}
```

## âœ… í™•ì¸ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] ë¡œê·¸ì¸ ìƒíƒœ í™•ì¸
- [ ] ë¸Œë¼ìš°ì € ì½˜ì†”ì—ì„œ ì €ì¥ ë¡œê·¸ í™•ì¸
- [ ] Firebase Consoleì—ì„œ ë°ì´í„° í™•ì¸
- [ ] UIì— ì„±ê³µ ë©”ì‹œì§€ í‘œì‹œ í™•ì¸
- [ ] Firestore ê·œì¹™ í™•ì¸
- [ ] ë„¤íŠ¸ì›Œí¬ ì—°ê²° í™•ì¸





