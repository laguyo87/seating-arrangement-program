# 배포 실패 디버깅 가이드

## 🚨 현재 상황

**모든 워크플로우가 10-16초 만에 실패하고 있습니다.**

### 실패 패턴
- 실행 시간: 10-16초 (매우 짧음)
- 의미: 빌드 단계 이전 또는 초기 단계에서 실패
- 모든 최근 실행 (#22-#28) 실패

## 🔍 가능한 원인

### 1. 빌드 실패
- TypeScript 컴파일 에러
- 의존성 설치 실패
- `dist/` 폴더가 생성되지 않음

### 2. 파일 복사 실패
- `dist/*` 복사 시 파일이 없음
- `deploy/` 폴더가 비어있음
- `index.html`이 복사되지 않음

### 3. 아티팩트 업로드 실패
- `deploy/` 폴더가 비어있어서 업로드 실패
- 권한 문제

## 🛠️ 수정 사항

### 개선된 워크플로우
1. **빌드 검증 단계 추가**: 빌드가 성공했는지 확인
2. **파일 존재 확인**: 각 파일 복사 전 존재 여부 확인
3. **에러 처리 개선**: 더 명확한 에러 메시지
4. **최종 검증**: `deploy/` 폴더에 최소한 `index.html`이 있는지 확인

## 📋 디버깅 단계

### 1. GitHub Actions 로그 확인
1. Actions 탭 → 실패한 워크플로우 클릭
2. 빨간색으로 표시된 단계 확인
3. 에러 메시지 읽기

### 2. 로컬에서 빌드 테스트
```bash
npm ci
npm run build
ls -la dist/
```

### 3. 로컬에서 배포 준비 테스트
```bash
mkdir -p deploy
cp -r dist/* deploy/
cp index.html deploy/
cp style.css deploy/
ls -la deploy/
```

## 🔧 추가 확인 사항

### package.json 확인
- `build` 스크립트가 올바른지 확인
- TypeScript 컴파일이 성공하는지 확인

### tsconfig.json 확인
- `outDir`이 `./dist`로 설정되어 있는지 확인
- 컴파일 설정이 올바른지 확인

### 파일 구조 확인
- `index.html`이 루트에 있는지 확인
- `style.css`가 루트에 있는지 확인
- `dist/` 폴더가 생성되는지 확인

## ✅ 예상 결과

수정 후:
- 빌드 검증 단계에서 문제 발견 시 명확한 에러 메시지
- 파일 복사 실패 시 구체적인 원인 표시
- `deploy/` 폴더 내용 확인 가능
- 최종 검증으로 `index.html` 누락 방지

## 📝 다음 단계

1. 수정된 워크플로우 푸시
2. GitHub Actions에서 실행 확인
3. 로그에서 구체적인 에러 메시지 확인
4. 필요시 추가 수정

